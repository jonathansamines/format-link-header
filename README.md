[![Build Status](https://img.shields.io/travis/jonathansamines/format-link-header/master.svg?style=flat-square)](https://travis-ci.org/jonathansamines/format-link-header)

# format-link-header
Allows to format a given links ref object, to the format as described in RFC 5988. Precisely it achieves the exactly inverse process performed by the [parse-link-header](https://github.com/thlorenz/parse-link-header).

## Installation

```bash
  npm install --save format-link-header
```

## Usage

1. Given a links refs object generated by **parse-link-header**:
  ```js
    var link = { next:
       { page: '3',
         per_page: '100',
         rel: 'next',
         url: 'https://api.github.com/user/9287/repos?page=3&per_page=100' },
      prev:
       { page: '1',
         per_page: '100',
         rel: 'prev',
         pet: 'cat',
         url: 'https://api.github.com/user/9287/repos?page=1&per_page=100' },
      last:
       { page: '5',
         per_page: '100',
         rel: 'last',
         url: 'https://api.github.com/user/9287/repos?page=5&per_page=100' } }
  ```

2. Format the link header

  ```js
    var formatter = require('format-link-header');
    formatter(link);
  ```

3. Web link headers generated!

  ```bash
    <https://api.github.com/user/9287/repos?page=3&per_page=100>; rel="next", <https://api.github.com/user/9287/repos?page=1&per_page=100>; rel="prev"; pet="cat", <https://api.github.com/user/9287/repos?page=5&per_page=100>; rel="last"
  ```

4. You can also define values for `url` as an object. When this format is detected, the value will be formatted via Node's `url.format()` method.

  ```js
    var link = { next:
       { page: '3',
         per_page: '100',
         rel: 'next',
         url: {
            protocol: 'https:',
            slashes: true,
            auth: null,
            host: 'api.github.com',
            port: null,
            hostname: 'api.github.com',
            hash: null,
            search: '?client_id=1&client_secret=2&page=2&per_page=100',
            query: 'client_id=1&client_secret=2&page=2&per_page=100',
            pathname: '/user/9287/repos',
            path: '/user/9287/repos?client_id=1&client_secret=2&page=2&per_page=100',
            href: 'https://api.github.com/user/9287/repos?client_id=1&client_secret=2&page=2&per_page=100'
         }
        },
      prev:
       { page: '1',
         per_page: '100',
         rel: 'prev',
         pet: 'cat',
         url: 'https://api.github.com/user/9287/repos?page=1&per_page=100' },
      last:
       { page: '5',
         per_page: '100',
         rel: 'last',
         url: 'https://api.github.com/user/9287/repos?page=5&per_page=100' } }
  ```
