'use strict';

const transformProperty = require('../src/transform-link-property');
const expect = require('chai').expect;

const expectedTransformation = {
  rel: 'last',
  hreflang: 'es',
  url: 'https://api.github.com/user/9287/repos?client_id=1&client_secret=2&page=2&per_page=100'
};

const linkProperty = {
  client_id: '1',
  client_secret: '2',
  page: '3',
  per_page: '100',
  rel: 'last',
  hreflang: 'es',
  url: 'https://api.github.com/user/9287/repos?client_id=1&client_secret=2&page=2&per_page=100'
};

describe('+ transform-link-property', function () {
  describe('#call', function () {
    const transformedLink = transformProperty(linkProperty);

    it('should return an object with only the link attributes, excluding the attributes generated by queryParams', function () {
      expect(transformedLink).to.be.an('object');
      expect(transformedLink).to.be.deep.equal(expectedTransformation);
    });
  });
});
