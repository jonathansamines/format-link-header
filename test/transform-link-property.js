'use strict';

const test = require('ava');
const transformProperty = require('../src/transform-link-property');

const expectedTransformation = {
  rel: 'last',
  hreflang: 'es',
  url: 'https://api.github.com/user/9287/repos?client_id=1&client_secret=2&page=2&per_page=100'
};

const linkProperty = {
  client_id: '1',
  client_secret: '2',
  page: '3',
  per_page: '100',
  rel: 'last',
  hreflang: 'es',
  url: 'https://api.github.com/user/9287/repos?client_id=1&client_secret=2&page=2&per_page=100'
};

test('@call => should return an object with only link attributes, excluding attributes generated by query params', (t) => {
  const transformedLink = transformProperty(linkProperty);

  t.is(typeof transformedLink, 'object');
  t.deepEqual(transformedLink, expectedTransformation);
});
